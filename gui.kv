<Sc_Manager>:
	Sc_Login:
		id: sc_login
		name: "sc_login"

	Sc_Config:
		id: sc_config
		name: "sc_config"

	Sc_Perfil:
		id: sc_perfil
		name: "sc_perfil"

	Sc_Cadastro:
		id: sc_cadastro
		name: "sc_cadastro"

<Sc_Login>:
	txt_usuario: txt_usuario
	txt_senha: txt_senha
	MDBoxLayout
		orientation: "vertical"		
		size_hint_y: 1
		MDBoxLayout:
			orientation: "vertical"
			size_hint_y: 0.6
			margin: "5dp"
			padding: "5dp"
			spacing: "5dp"
			MDBoxLayout: 
				orientation: "vertical"
				MDLabel:
					text: "Apelido de usuário:"
			MDBoxLayout
				orientation: "vertical"
				MDTextField:
					hint_text: "Usuário"
					id: txt_usuario
			MDBoxLayout: 
				orientation: "vertical"
				MDLabel:
					text: "Digite sua senha:"
			MDBoxLayout
				orientation: "vertical"
				MDTextField:
					hint_text: "Senha"
					password: True
					id: txt_senha
			MDBoxLayout
				orientation: "horizontal"
				spacing: "5dp"				
				MDBoxLayout
					orientation: "horizontal"
					size_hint: (1,0.1)
					pos_hint: {'center_x': .5, 'center_y': .5}
			        MDCheckbox:
				        size_hint: None, None
		        		size: "48dp", "48dp"
		        		pos_hint: {'center_x': .5, 'center_y': .5}
		        	MDLabel:
		        		text: "Continuar conectado."
	    MDBoxLayout:
			orientation: "vertical"
			size_hint_y: 0.4
			margin: "5dp"
			padding: "5dp"
			spacing: "5dp"
			MDBoxLayout:
				orientation: "vertical"	
				MDFillRoundFlatIconButton:
					icon: "text-box-edit"
					size_hint: 1, 0.1
					text: "Cadastrar-me"
					on_release: app.root.current = "sc_cadastro"
					md_bg_color: 0.2, 1, 0.2, 1
			MDBoxLayout:
				orientation: "vertical"	
				MDFillRoundFlatIconButton:
					icon: "text-box-check"
					size_hint: 1, 0.1
					text: "Problema para entrar?"					
					md_bg_color: 1, 0.4, 0.1, 1
					on_release:
						app.root.current = "sc_config"
			MDBoxLayout:
				orientation: "vertical"
				MDFillRoundFlatIconButton:
					icon: "login"
					size_hint: 1, 0.1					
					text: "Fazer Login"
					on_release:
						root.novo_login(txt_usuario.text, txt_senha.text)
			MDBoxLayout:
				orientation: "vertical"
				MDFillRoundFlatIconButton:
					icon: "location-exit"
					size_hint: 1, 0.1
					text: "Sair da Aplicação"
					md_bg_color: 1, 0.1, 0.1, 1
					on_release: 
						print("Cancelando Login")
						app.stop()

<Sc_Cadastro>:
	usuario_nome: usuario_nome
	usuario_apelido: usuario_apelido
	usuario_email: usuario_email
	usuario_senha: usuario_senha
	usuario_senha_confirmada: usuario_senha_confirmada
	usuario_pergunta: usuario_pergunta
	usuario_resposta: usuario_resposta
	MDScrollView:
		do_scroll_y: True
		size_hint: (1, 1)
		MDBoxLayout:
			orientation: "vertical"
			size_hint_y: 1.5
			padding: "5dp"
			margin: "5dp"
			spacing: "5dp"
			MDBoxLayout:
				orientation: "vertical"
				size_hint_y: 1.3
				MDBoxLayout: 
					rientation: "vertical"
					MDLabel:
						text: "Nome Completo:"
				MDBoxLayout: 
					orientation: "vertical"
					MDTextField:
						hint_text: "meu nome."
						id: usuario_nome	
				MDBoxLayout: 
					rientation: "vertical"
					MDLabel:
						text: "Seu apelido:"
				MDBoxLayout: 
					orientation: "vertical"
					MDTextField:
						hint_text: "meu apelido."
						id: usuario_apelido
				MDBoxLayout: 
					rientation: "vertical"
					MDLabel:
						text: "Seu e-mail:"
				MDBoxLayout: 
					orientation: "vertical"
					MDTextField:
						hint_text: "meu email."
						id: usuario_email
				MDBoxLayout: 
					rientation: "vertical"
					MDLabel:
						text: "Digite uma senha:"
				MDBoxLayout: 
					orientation: "vertical"
					MDTextField:					
						id: usuario_senha
						password: True
						hint_text: "minha senha"
				MDBoxLayout: 
					orientation: "vertical"
					MDLabel:
						text: "Confirme sua senha:"
				MDBoxLayout: 
					orientation: "vertical"
					MDTextField:	
						hint_text: "minha senha"				
						id: usuario_senha_confirmada	
						password: True
				MDBoxLayout: 
					orientation: "vertical"
					MDLabel:
						text: "Crie uma pergunta secreta:"
				MDBoxLayout: 
					orientation: "vertical"
					MDTextField:
						hint_text: "minha pergunta"					
						id: usuario_pergunta								
				MDBoxLayout: 
					orientation: "vertical"
					MDLabel:
						text: "Resposta da pergunta secreta:"
				MDBoxLayout: 
					orientation: "vertical"
					MDTextField:					
						hint_text: "minha resposta"
						id: usuario_resposta							
			MDBoxLayout: 
				orientation: "vertical"
				size_hint_y: 0.2
				margin: "5dp"
				padding: "5dp"
				spacing: "5dp"
				MDBoxLayout: 
					orientation: "vertical"
					MDRaisedButton:
						text: "Fazer cadastro"
						size_hint: 1, 0.1
						md_bg_color: 1, 0.4, 0.1, 1
						on_release: 
							root.novo_cadastro(usuario_nome.text, usuario_apelido.text, usuario_email.text, usuario_senha.text, usuario_senha_confirmada.text, usuario_pergunta.text, usuario_resposta.text)
				MDBoxLayout: 
					orientation: "vertical"
					MDRaisedButton:
						text: "Fazer login"
						size_hint: 1, 0.1
						on_release: app.root.current = "sc_login"

<Sc_Config>:
	txt_pergunta: txt_pergunta
	txt_resposta: txt_resposta	
	txt_email: txt_email
	txt_senha: txt_senha
	txt_senha_confirma: txt_senha_confirma
	MDScrollView:
		do_scroll_y: True
		size_hint: (1, 1)
		MDBoxLayout:
			orientation: "vertical"	
			size_hint_y: 1.4			
			padding: "5dp"
			margin: "5dp"
			spacing: "5dp"
			MDBoxLayout:
				orientation: "vertical"	
				MDBoxLayout: 
					rientation: "vertical"
					MDLabel:
						text: "Informe seu e-mail:"
				MDBoxLayout: 
					orientation: "vertical"
					MDTextField:
						hint_text: "email cadastrado"
						id: txt_email
				MDBoxLayout:
					orientation: "horizontal"	
					MDAnchorLayout:
						anchor_x: "center"										
						MDRaisedButton:
							text: "Verificar e-Mail"
							md_bg_color: 1, 0.4, 0.1, 1
							on_release: 							
								root.verificar_email( txt_email.text)	
				MDBoxLayout: 
					rientation: "vertical"
					MDLabel:
						text: "Sua pergunta secreta é:"
				MDBoxLayout: 
					orientation: "vertical"
					MDTextField:
						hint_text: "pergunta secreta"
						id: txt_pergunta
						disabled: True
				MDBoxLayout: 
					rientation: "vertical"
					MDLabel:
						text: "Resposta para a pergunta:"
				MDBoxLayout: 
					orientation: "vertical"
					MDTextField:
						hint_text: "resposta secreta"
						id: txt_resposta
						disabled: True
				MDBoxLayout:
					orientation: "horizontal"	
					MDAnchorLayout:
						anchor_x: "center"					
										
						MDRaisedButton:
							md_bg_color: 1, 0.4, 0.1, 1
							text: "Verificar Resposta"
							on_release: 							
								root.verificar_formulario(txt_pergunta.text, txt_resposta.text, txt_senha.text, txt_senha_confirma.text, txt_email.text)
				MDBoxLayout: 
					rientation: "vertical"
					MDLabel:
						text: "Nova senha:"
				MDBoxLayout: 
					orientation: "vertical"
					MDTextField:
						hint_text: "nova senha"
						id: txt_senha
						password: True
						disabled: True
				MDBoxLayout: 
					rientation: "vertical"
					MDLabel:
						text: "Redigite sua nova senha:"
				MDBoxLayout: 
					orientation: "vertical"
					MDTextField:
						hint_text: "confirmar nova senha"
						id: txt_senha_confirma
						password: True
						disabled: True
				MDBoxLayout:
					orientation: "horizontal"	
					MDAnchorLayout:
						anchor_x: "center"			
						MDRaisedButton:
							text: "Salvar Alterações"
							md_bg_color: 1, 0.4, 0.1, 1
							on_release: 							
								root.alterar_senha(txt_senha.text, txt_senha_confirma.text, txt_email.text)
				MDBoxLayout:
					orientation: "horizontal"	
					MDAnchorLayout:
						anchor_x: "center"			
						MDRaisedButton:							
							text: "Fazer Login"
							on_release: 							
								app.root.current = "sc_login"
				
<Sc_Perfil>:
	txt_nome: txt_nome
	txt_apelido: txt_apelido
	txt_email: txt_email
	AnchorLayout:
		anchor_x: "center"
		anchor_y: "center" 
		MDScrollView:
			do_scroll_y: True
			size_hint: (1, 1)
			MDBoxLayout:
				orientation: "vertical"	
				size_hint_y: 0.8			
				padding: "5dp"
				margin: "5dp"
				spacing: "5dp"
				MDBoxLayout:
					orientation: "vertical"					
					MDBoxLayout: 
						rientation: "vertical"
						MDLabel:
							text: "Nome Completo:"
					MDBoxLayout: 
						orientation: "vertical"
						MDTextField:
							hint_text: "meu nome."
							id: txt_nome	
					MDBoxLayout: 
						rientation: "vertical"
						MDLabel:
							text: "Seu apelido:"
					MDBoxLayout: 
						orientation: "vertical"
						MDTextField:
							hint_text: "meu apelido."
							id: txt_apelido
					MDBoxLayout: 
						rientation: "vertical"
						MDLabel:
							text: "Seu e-mail:"
					MDBoxLayout: 
						orientation: "vertical"
						MDTextField:
							hint_text: "meu email."
							id: txt_email					
				MDAnchorLayout:
					anchor_x: "center"
					margin: "5dp"
					padding: "5dp"
					spacing: "5dp"									
					size_hint_y: 0.2								
					MDBoxLayout: 
						orientation: "horizontal"
						MDBoxLayout: 
							orientation: "vertical"
							MDRaisedButton:
								text: "Sair da Aplicação"
								on_release: app.stop()
						MDBoxLayout: 
							orientation: "vertical"
							MDRaisedButton:
								text: "Voltar"
								on_release: app.root.current = "sc_login"